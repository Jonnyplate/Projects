<!DOCTYPE html>
<html>
  <head>
    <title>My experiment</title>
    <script src="jspsych-6.1.0/jspsych.js"></script>
    <script src="jspsych-6.1.0/plugins/jspsych-html-keyboard-response.js"></script>
    <script src="jspsych-6.1.0/plugins/jspsych-image-keyboard-response.js"></script>
    <script src="jspsych-rule-violation.js"></script>

    <link href="jspsych-6.1.0/css/jspsych.css" rel="stylesheet" type="text/css"></link>
  </head>
  <body> </body>
  <script>
    /* create timeline */
    var timeline = [];
    var images = ['img/blockade_schwarz.png',"img/blockade_schwarz.png","img/king.png","img/pawn.png"]
    /* test trials */

   var test_stimuli = [
       // Time Bonus
            //Stimulus left 
            {time_Bonus: true,blockade: {file: "img/blockade_schwarz.png"}, stimuli: {stim_1: "img/pawn.png", stim_2: "img/king.png", correct: 'left'},  data: {Blockade: 'blockade_schwarz'}},
            {time_Bonus: true,blockade: {file: "img/blockade_rot.png"},stimuli: {stim_1: "img/pawn.png", stim_2: "img/king.png", correct: 'left' }, data: {Blockade: 'blockade_rot'}},
            //Stimulus right 
            {time_Bonus: true,blockade: {file: "img/blockade_schwarz.png"}, stimuli: {stim_1: "img/pawn.png", stim_2: "img/king.png", correct: 'right'},  data: {Blockade: 'blockade_schwarz'}},
            {time_Bonus: true,blockade: {file: "img/blockade_rot.png"},stimuli: {stim_1: "img/pawn.png", stim_2: "img/king.png", correct: 'right' }, data: {Blockade: 'blockade_rot'}},
        // No Time Bonus
            // Stimulus left
            {time_Bonus: false,blockade: {file: "img/blockade_schwarz.png"}, stimuli: {stim_1: "img/pawn.png", stim_2: "img/king.png", correct: 'left'},  data: {Blockade: 'blockade_schwarz'}},
            {time_Bonus: false,blockade: {file: "img/blockade_rot.png"},stimuli: {stim_1: "img/pawn.png", stim_2: "img/king.png", correct: 'left' }, data: {Blockade: 'blockade_rot'}},
            //Stimulus right 
            {time_Bonus: false,blockade: {file: "img/blockade_schwarz.png"}, stimuli: {stim_1: "img/pawn.png", stim_2: "img/king.png", correct: 'right'},  data: {Blockade: 'blockade_schwarz'}},
            {time_Bonus: false,blockade: {file: "img/blockade_rot.png"},stimuli: {stim_1: "img/pawn.png", stim_2: "img/king.png", correct: 'right' }, data: {Blockade: 'blockade_rot'}},
        
    ]
    var trial = {
    type: 'rule-violation',
    words: 'test',
    blockade: jsPsych.timelineVariable('blockade'),
    stimuli: jsPsych.timelineVariable('stimuli'),
    data: jsPsych.timelineVariable('data'),
    block_height: 200,
    block_width: 300,
    time_Bonus: jsPsych.timelineVariable('time_Bonus'),
    min_BonusTime: 1000 
    }

    var test_procedure = {
      timeline: [trial],
      timeline_variables: test_stimuli,
      randomize_order: true,
      repetitions: 1
    }

    timeline.push(test_procedure);
    jsPsych.init({
      timeline: timeline,
      preload_images: images,
      on_finish: function(){jsPsych.data.displayData();}
    });
    /* start the experiment */

  </script> 
  </html>
  