<!DOCTYPE html>
<html>
  <head>
    <title>My experiment</title>
    <script src="jspsych-6.1.0/jspsych.js"></script>
    <script src="jspsych-6.1.0/plugins/jspsych-html-keyboard-response.js"></script>
    <script src="jspsych-6.1.0/plugins/jspsych-image-keyboard-response.js"></script>
    <script src="jspsych-rule-violation.js"></script>

    <link href="jspsych-6.1.0/css/jspsych.css" rel="stylesheet" type="text/css"></link>
  </head>
  <body> </body>
  <script>
    /* create timeline */
    var timeline = [];
    var images = ['img/blockade_schwarz.png',"img/blockade_schwarz.png","img/king.png","img/pawn.png"]
    /* test trials */

   var test_stimuli = [
       //Stimulus left
        {blockade: {file: "img/blockade_schwarz.png"}, stimuli: {pawn: "img/pawn.png", king: "img/king.png", correct: 'left'}, BlposX: 'right', data: {Blockade: 'blockade_schwarz'}},
        {blockade: {file: "img/blockade_rot.png"},stimuli: {pawn: "img/pawn.png", king: "img/king.png", correct: 'left' },BlposX: 'left', data: {Blockade: 'blockade_rot'}},
        {blockade: {file: "img/blockade_schwarz.png"}, stimuli: {pawn: "img/pawn.png", king: "img/king.png", correct: 'left'}, BlposX: 'left', data: {Blockade: 'blockade_schwarz'}},
        {blockade: {file: "img/blockade_rot.png"},stimuli: {pawn: "img/pawn.png", king: "img/king.png", correct: 'left'}, BlposX: 'right', data: {Blockade: 'blockade_rot'}},
        //Stimulus right
        {blockade: {file: "img/blockade_schwarz.png"}, stimuli: {pawn: "img/pawn.png", king: "img/king.png", correct: 'right'}, BlposX: 'right', data: {Blockade: 'blockade_schwarz'}},
        {blockade: {file: "img/blockade_rot.png"},stimuli: {pawn: "img/pawn.png", king: "img/king.png", correct: 'right' },BlposX: 'left', data: {Blockade: 'blockade_rot'}},
        {blockade: {file: "img/blockade_schwarz.png"}, stimuli: {pawn: "img/pawn.png", king: "img/king.png", correct: 'right'}, BlposX: 'left', data: {Blockade: 'blockade_schwarz'}},
        {blockade: {file: "img/blockade_rot.png"},stimuli: {pawn: "img/pawn.png", king: "img/king.png", correct: 'right'}, BlposX: 'right', data: {Blockade: 'blockade_rot'}},
  ]

    var trial = {
    type: 'rule-violation',
    words: 'test',
    blockade: jsPsych.timelineVariable('blockade'),
    BlposX : jsPsych.timelineVariable('BlposX'),
    stimuli: jsPsych.timelineVariable('stimuli'),
    data: jsPsych.timelineVariable('data'),
    block_height: 200,
    block_width: 300
    }

    var test_procedure = {
      timeline: [trial],
      timeline_variables: test_stimuli,
      randomize_order: true,
      repetitions: 1
    }

    timeline.push(test_procedure);
    jsPsych.init({
      timeline: timeline,
      preload_images: images,
      on_finish: function(){jsPsych.data.displayData();}
    });
    /* start the experiment */

  </script> 
  </html>
